<div class="auth-container">
    <form class="auth-form" [formGroup]="authForm" (ngSubmit)="onSubmit()">
        <h2 class="text-center">{{ isLogin ? 'Login' : 'Register' }}</h2>
        <!-- First Name (Only for Registration) -->
        <div class="form-group" *ngIf="!isLogin">
            <label for="firstName">First Name <span class="required">*</span></label>
            <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="First Name">
        </div>

        <!-- Last Name (Only for Registration) -->
        <div class="form-group" *ngIf="!isLogin">
            <label for="lastName">Last Name <span class="required">*</span></label>
            <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Last Name">
        </div>

        <!-- Email Address -->
        <div class="form-group" *ngIf="!isLogin">
            <label for="email">Email address <span class="required">*</span></label>
            <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter email">
        </div>

        <div class="form-group" *ngIf="isLogin">
            <label for="email">Email address <span class="required">*</span></label>
            <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter email">
        </div>

        <!--OTP-->
        <diV class="form-group" *ngIf="!isLogin  && isOtpSend && !isOtpVerified">
            <p class="text-danger">{{otptext}}</p>
            <label for="otp">OTP <span class="required">*</span></label>
            <input type="text" class="form-control" id="otp" formControlName="otp" placeholder="OTP">
        </diV>

        <!-- Password -->
        <div class="form-group" *ngIf="!isLogin && isOtpVerified">
            <label for="password">Password <span class="required">*</span></label>
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password">
        </div>

        <div class="form-group" *ngIf="isLogin">
            <label for="password">Password <span class="required">*</span></label>
            <input type="password" class="form-control" id="password" formControlName="password" placeholder="Password">
        </div>

        <!-- Confirm Password (Only for Registration) -->
        <div class="form-group" *ngIf="!isLogin && isOtpVerified">
            <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
            <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword"
                placeholder="Confirm Password">
        </div>

        <p *ngIf="authForm.errors?.['passwordMismatch'] && !isLogin && authForm.value.confirmPassword">
            ‚ùå Passwords do not match!
        </p>
        <button class="btn btn-primary btn-block" *ngIf="authForm.value.email && !isOtpSend && !isLogin"
            (click)="sendOtp()">{{otpButtonText}}</button>

        <button class="btn btn-primary btn-block" *ngIf="isOtpSend && !isOtpVerified" (click)="verifyOtp()">Verify
            otp</button>

        <div *ngIf="loderStart" class="text-center">
            <p-progress-spinner strokeWidth="8" fill="transparent" animationDuration=".50s"
                [style]="{ width: '50px', height: '50px' }" />
        </div>
        <!-- Submit Button -->
        <button type="submit" [hidden]="authForm.invalid && !isLogin" class="btn btn-primary btn-block">
            {{ isLogin ? 'Login' : 'Register' }}
        </button>

        <!-- Toggle Button -->
        <button type="button" class="btn btn-secondary btn-block" (click)="toggleLogin()">
            {{ isLogin ? 'New User? Register' : 'Already have an account? Login' }}
        </button>

        <button type="button" class="btn btn-secondary btn-sm mt-2" style="margin-left: 110px;" (click)="gotoAdminLogin()">Admin Login</button>
    </form>
    <p-toast />
</div>